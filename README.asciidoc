Kakoune Language Server Protocol Client
---------------------------------------

Implemented in Rust.

Installation
-----------



----
git clone https://github.com/ul/kak-lsp
cd kak-lsp
cargo build --release
# replace `~/.local/bin/` with something on your `$PATH`
ln -s $PWD/target/release/kak-lsp ~/.local/bin/
ln $PWD/rc ~/.config/kak/autoload/lsp
mkdir -p ~/.config/kak-lsp 
cp kak-lsp.toml ~/.config/kak-lsp/
# service for MacOS to not bother with manual start/restart
ln -s com.github.ul.kak-lsp.plist ~/Library/LaunchAgents/
launchctl load com.github.ul.kak-lsp.plist
----

Usage
-----

`kak-lsp` is able to connect multiple editor sessions to multiple language servers. Therefore `kak-lsp` process should be started separately and having single one running is enough.

The easiest way to enable LSP support for language, i.e. Rust, is to add following to `kakrc`:

----
hook global WinSetOption filetype=rust %{
    lsp-enable
}
----

It will add support for completions, hover and will bind goto definition to `gd`. This require language server command and file extensions to be set up in configuration file, see the next section for details.

Configuration
-------------

kak-lsp is configured via configuration file in https://github.com/toml-lang/toml[TOML] format. By default kak-lsp tries to read `$HOME/.config/kak-lsp/kak-lsp.toml`, but you can override it with command-line option `--config`.

Look into the default `kak-lsp.toml` in the root of repository, it should be quite self-descriptive.

